# GNU Make solution makefile autogenerated by Premake

.NOTPARALLEL:

ifndef config
  config=debug
endif

ifndef verbose
  SILENT = @
endif

ifeq ($(config),debug)
  amon_graph_config = debug
  amon_csys_config = debug
  amon_utils_config = debug
  amon_config = debug
endif
ifeq ($(config),release)
  amon_graph_config = release
  amon_csys_config = release
  amon_utils_config = release
  amon_config = release
endif

PROJECTS := amon-graph amon-csys amon-utils amon

.PHONY: all clean help $(PROJECTS) 

all: $(PROJECTS)

amon-graph:
ifneq (,$(amon_graph_config))
	@echo "==== Building amon-graph ($(amon_graph_config)) ===="
	@${MAKE} --no-print-directory -C graph -f Makefile config=$(amon_graph_config)
endif

amon-csys:
ifneq (,$(amon_csys_config))
	@echo "==== Building amon-csys ($(amon_csys_config)) ===="
	@${MAKE} --no-print-directory -C csys -f Makefile config=$(amon_csys_config)
endif

amon-utils:
ifneq (,$(amon_utils_config))
	@echo "==== Building amon-utils ($(amon_utils_config)) ===="
	@${MAKE} --no-print-directory -C util -f Makefile config=$(amon_utils_config)
endif

amon: amon-utils amon-graph amon-csys
ifneq (,$(amon_config))
	@echo "==== Building amon ($(amon_config)) ===="
	@${MAKE} --no-print-directory -C Amon -f Makefile config=$(amon_config)
endif

clean:
	@${MAKE} --no-print-directory -C graph -f Makefile clean
	@${MAKE} --no-print-directory -C csys -f Makefile clean
	@${MAKE} --no-print-directory -C util -f Makefile clean
	@${MAKE} --no-print-directory -C Amon -f Makefile clean

help:
	@echo "Usage: make [config=name] [target]"
	@echo ""
	@echo "CONFIGURATIONS:"
	@echo "  debug"
	@echo "  release"
	@echo ""
	@echo "TARGETS:"
	@echo "   all (default)"
	@echo "   clean"
	@echo "   amon-graph"
	@echo "   amon-csys"
	@echo "   amon-utils"
	@echo "   amon"
	@echo ""
	@echo "For more information, see http://industriousone.com/premake/quick-start"
